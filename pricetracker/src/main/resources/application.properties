spring.application.name=pricetracker

# === DATABASE ===
# Defaults to local dev values; Railway overrides these via env vars
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:postgresql://localhost:5432/pricedroptracker}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:tracker}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:tracker123}
spring.datasource.driver-class-name=org.postgresql.Driver

# === JPA / HIBERNATE ===
spring.jpa.hibernate.ddl-auto=validate
spring.jpa.show-sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.jpa.properties.hibernate.format_sql=true

# === FLYWAY ===
spring.flyway.enabled=true
spring.flyway.locations=classpath:db/migration

# === JWT ===
app.jwt.secret=${JWT_SECRET:7a3f9b2e4c8d1f6a0e5b9c3d7e2f4a8b6c0d9e1f3a7b2c5d8e0f4a6b9c1d3e5}
app.jwt.expiration-ms=900000
app.jwt.refresh-expiration-ms=604800000

# === MAIL ===
spring.mail.host=${MAIL_HOST:smtp.mailgun.org}
spring.mail.port=587
spring.mail.username=${MAIL_USERNAME:placeholder@example.com}
spring.mail.password=${MAIL_PASSWORD:placeholder}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true

# === SCHEDULING ===
spring.task.scheduling.pool.size=5

# === SERVER ===
# Railway injects PORT; falls back to 8080 locally
server.port=${PORT:8080}
